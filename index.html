
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>GTE API 文档</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#5ea2e0cde2" class="toc-h1 toc-link" data-title="简介">简介</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api" class="toc-h2 toc-link" data-title="API简介">API简介</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#185368440e" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
          </li>
          <li>
            <a href="#b122f813d5" class="toc-h1 toc-link" data-title="基本信息">基本信息</a>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="Websocket 接口">Websocket 接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#30fd4ed55b" class="toc-h2 toc-link" data-title="示例">示例</a>
                  </li>
                  <li>
                    <a href="#7328deebb5" class="toc-h2 toc-link" data-title="连接">连接</a>
                  </li>
                  <li>
                    <a href="#subscriptions" class="toc-h2 toc-link" data-title="订阅Subscriptions">订阅Subscriptions</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="权鉴Authentication">权鉴Authentication</a>
                  </li>
                  <li>
                    <a href="#heartbeating" class="toc-h2 toc-link" data-title="心跳Heartbeating">心跳Heartbeating</a>
                  </li>
                  <li>
                    <a href="#19b61b1c63" class="toc-h2 toc-link" data-title="消息格式">消息格式</a>
                  </li>
                  <li>
                    <a href="#12907e94be" class="toc-h2 toc-link" data-title="访问限制">访问限制</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#http-restful-api" class="toc-h1 toc-link" data-title="Http Restful API">Http Restful API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#baseurl" class="toc-h2 toc-link" data-title="BaseUrl">BaseUrl</a>
                  </li>
                  <li>
                    <a href="#api-2" class="toc-h2 toc-link" data-title="API签名说明">API签名说明</a>
                  </li>
                  <li>
                    <a href="#ed913b7357" class="toc-h2 toc-link" data-title="行情接口">行情接口</a>
                  </li>
                  <li>
                    <a href="#2bf0a92d60" class="toc-h2 toc-link" data-title="深度接口">深度接口</a>
                  </li>
                  <li>
                    <a href="#5601b3d8e3" class="toc-h2 toc-link" data-title="创建委托">创建委托</a>
                  </li>
                  <li>
                    <a href="#3a8264c8e2" class="toc-h2 toc-link" data-title="撤销委托">撤销委托</a>
                  </li>
                  <li>
                    <a href="#6f17b241c4" class="toc-h2 toc-link" data-title="查询委托">查询委托</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cf68bca02a" class="toc-h1 toc-link" data-title="错误代码">错误代码</a>
          </li>
          <li>
            <a href="#cf68bca02a" class="toc-h1 toc-link" data-title="错误代码">错误代码</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='5ea2e0cde2'>简介</h1><h2 id='api'>API简介</h2>
<p>欢迎使用GTE API！ 你可以使用此 API 获得市场行情数据，进行交易，并且管理你的账户。</p>

<p>在文档的右侧是代码，目前我们仅提供针对 shell 的代码示例。</p>
<h1 id='185368440e'>更新日志</h1>
<table><thead>
<tr>
<th>生效时间（北京时间UTC+8）</th>
<th>接口</th>
<th>新增/修改</th>
<th>摘要</th>
</tr>
</thead><tbody>
<tr>
<td>2019.10.25 12：00</td>
<td>委托、深度、行情</td>
<td>新增</td>
<td>-新增委托、深度、行情接口</td>
</tr>
</tbody></table>
<h1 id='b122f813d5'>基本信息</h1><h1 id='websocket'>Websocket 接口</h1><h2 id='30fd4ed55b'>示例</h2><h2 id='7328deebb5'>连接</h2><h3 id='67d2d7970f'>地址</h3>
<p>将ws客户端连接到wss://testnet.gte.com/realtime</p>
<h3 id='b114b91547'>命令</h3>
<p>命令的基本形式<code>{&quot;op&quot;: &quot;&lt;command&gt;&quot;, &quot;args&quot;: [&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;]}</code><br>
&lt;command&gt;值见命令目录<br>
<code>args</code>数组在某些命令中是可选项  </p>

<p>命令目录
- 订阅Subscriptions
  - subscribe
  - unsubscribe
- 权鉴Authentication
- 心跳Heartbeating<br>
  - raw ping
  - cancelAllAfter</p>
<h2 id='subscriptions'>订阅Subscriptions</h2>
<p>连上ws后，订阅行情数据的推送，发送消息 <code>{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&lt;SubscriptionTopic&gt;]}</code><br>
你可以通过<code>args</code>数组同时订阅多个主题  </p>

<p>无需权鉴的主题：<br>
<code>
&quot;announcement&quot;,        // Site announcements  
&quot;chat&quot;,                // Trollbox chat  
&quot;connected&quot;,           // Statistics of connected users/bots
&quot;funding&quot;,             // Updates of swap funding rates. Sent every funding interval (usually 8hrs)
&quot;instrument&quot;,          // Instrument updates including turnover and bid/ask
&quot;insurance&quot;,           // Daily Insurance Fund updates
&quot;liquidation&quot;,         // Liquidation orders as they&#39;re entered into the book
&quot;orderBookL2_25&quot;,      // Top 25 levels of level 2 order book
&quot;orderBookL2&quot;,         // Full level 2 order book
&quot;orderBook10&quot;,         // Top 10 levels using traditional full book push
&quot;publicNotifications&quot;, // System-wide notifications (used for short-lived messages)
&quot;quote&quot;,               // Top level of the book
&quot;quoteBin1m&quot;,          // 1-minute quote bins
&quot;quoteBin5m&quot;,          // 5-minute quote bins
&quot;quoteBin1h&quot;,          // 1-hour quote bins
&quot;quoteBin1d&quot;,          // 1-day quote bins
&quot;settlement&quot;,          // Settlements
&quot;trade&quot;,               // Live trades
&quot;tradeBin1m&quot;,          // 1-minute trade bins
&quot;tradeBin5m&quot;,          // 5-minute trade bins
&quot;tradeBin1h&quot;,          // 1-hour trade bins
&quot;tradeBin1d&quot;,          // 1-day trade bins
</code><br>
需要权鉴的主题：<br>
<code>
&quot;affiliate&quot;,   // Affiliate status, such as total referred users &amp; payout %
&quot;execution&quot;,   // Individual executions; can be multiple per order
&quot;order&quot;,       // Live updates on your orders
&quot;margin&quot;,      // Updates on your current account balance and margin requirements
&quot;position&quot;,    // Updates on your positions
&quot;privateNotifications&quot;, // Individual notifications - currently not used
&quot;transact&quot;     // Deposit/Withdrawal updates
&quot;wallet&quot;       // Bitcoin address balance data, including total deposits &amp; withdrawals
</code><br>
<code>orderBookL2</code>推送完整的L2订单簿，数据量很大；<br>
推荐使用<code>orderBookL2_25</code>订阅行情，推送截断的25档L2订单簿<br>
注：L2订单簿中的<code>id</code>字段，实际上是price和symbol的组合，并且在给定的价格上是唯一的。它被用于<code>update</code>和<code>delete</code>等指令。<br>
<code>orderBook10</code>推送10档，但是包含更多数据；</p>
<h2 id='authentication'>权鉴Authentication</h2>
<ul>
<li>公开的行情、订单簿、成交列表等数据流无需鉴权；</li>
<li>账户的委托、订单、成交等账户相关数据需要鉴权；</li>
<li>如果鉴权失败，连接将会关闭。</li>
</ul>

<p>鉴权方式：
- 在第一次请求的时候，在http head中签名，或者
- 在ws连接建立后，发送<code>authKeyExpires</code>命令。  </p>

<p>以上两种方式都是对地址<code>GET /realtime</code>的请求。  </p>
<pre class="highlight plaintext"><code>// signature is hex(HMAC_SHA256(secret, 'GET/realtime' + expires))
// expires must be a number, not a string.
{"op": "authKeyExpires", "args": ["&lt;APIKey&gt;", &lt;expires&gt;, "&lt;signature&gt;"]}
</code></pre><h2 id='heartbeating'>心跳Heartbeating</h2>
<p>检测连接是否掉线。<br>
如果客户端使用的库支持<code>hybi-13</code>或<code>ping/pong</code>，可以发送ping到服务端，服务端返回pong。<br>
Due to changes in browser power-saving modes, we no longer support expectant pings via the WebSocket API.<br>
建议的掉线检测方式：
- 收到一条消息后，设定5秒钟的timer；
- 如果在timer到期之前收到新的消息，reset timer；
- 如果timer到期，发送一条ping消息（或者字符串&quot;ping&quot;）；
- 等待服务器返回pong（或字符串&quot;pong&quot;），如果5秒钟内没有收到回复，记录错误并重连。  </p>
<h3 id='dead-man-s-switch-auto-cancel'>Dead Man’s Switch (Auto Cancel)</h3>
<p>某些意外情况下，例如你在GTE有较大的活动订单，但同时你的机房断电或断网了，你希望你的订单被全部取消。
Via REST at /order/cancelAllAfter or via WebSocket via the example below, one can set a millisecond timeout. This will start a timer. If cancelAllAfter is not called again before time runs out, all of your existing orders on all symbols will be canceled.  </p>

<p>To cancel this operation and keep your orders open, pass a timeout of 0.  </p>

<p>Advanced users of BitMEX should use this operation. A common use pattern is to set a timeout of 60000, and call it every 15 seconds. This gives you sufficient wiggle room to keep your orders open in case of a network hiccup, while still offering significant protection in case of a larger outage. Of course, the parameters are up to you.  </p>

<p>We recommend not setting a timeout of less than 5 seconds to avoid being rate limited or having your orders unexpectedly canceled in case of network congestion.  </p>

<p>For example:<br>
```
// Places a dead man&#39;s switch at 60 seconds.</p>

<blockquote>
<p>{&quot;op&quot;: &quot;cancelAllAfter&quot;, &quot;args&quot;: 60000}
  &lt; {&quot;now&quot;:&quot;2015-09-02T14:18:43.536Z&quot;,&quot;cancelTime&quot;:&quot;2015-09-02T14:19:43.536Z&quot;,
     &quot;request&quot;:{&quot;op&quot;:&quot;cancelAllAfter&quot;,&quot;args&quot;:60000}}
// Cancels the switch.
{&quot;op&quot;: &quot;cancelAllAfter&quot;, &quot;args&quot;: 0}
  &lt; {&quot;now&quot;:&quot;2015-09-02T14:19:11.617Z&quot;,&quot;cancelTime&quot;:0,&quot;request&quot;:{&quot;op&quot;:&quot;cancelAllAfter&quot;,&quot;args&quot;:0}}
```</p>
</blockquote>
<h2 id='19b61b1c63'>消息格式</h2><h2 id='12907e94be'>访问限制</h2><h1 id='http-restful-api'>Http Restful API</h1><h2 id='baseurl'>BaseUrl</h2>
<ul>
<li><code>http://{ip}:port</code></li>
</ul>
<h2 id='api-2'>API签名说明</h2>
<ul>
<li><p>部分api请求需要在请求头携带签名</p></li>
<li><p>请求头说明</p>

<ul>
<li>api-key ：交易所用户在api管理页面创建的apiKey</li>
<li>api-expires : 当前时间的时间戳(毫秒)</li>
<li>api-signature ： api签名</li>
</ul></li>
<li><p>签名规则</p>

<ul>
<li> 构建签名的明文message分三部分</li>
</ul>

<p>1 api-key:请求头携带</p>

<p>2 api-expires：请求头携带</p>

<p>3 请求参数组成的字符串</p>

<p>* 请求参数根据参数名称按照ascii值排序,</p>

<p>* 例如查询委托,排序后的字符串为 {&quot;count&quot;:&quot;20&quot;,&quot;end_time&quot;:&quot;1570701726000&quot;,&quot;filter&quot;:&quot;{&quot;status&quot;:&quot;1&quot;,&quot;order_id&quot;:&quot;123000001&quot;}&quot;,&quot;start_time&quot;:&quot;1570788306000&quot;,&quot;symbol&quot;:&quot;BTC_USD&quot;}</p>

<p>* 如果参数count为空或为null,不需要加入排序</p>

<p>* filter字段 {key:value} json类型字符串,filter字段参加排序,字段内容不需要排序
* 秘钥
   * apiSecret为创建api-key时显示的对应秘钥
* 加密成api签名
  * message等于api-key+api-expires+请求参数排序后的字符串
  * hmacSha256（apiSecret,message） 加密成api签名,由api-signature携带</p></li>
</ul>
<h2 id='ed913b7357'>行情接口</h2>
<p><strong>查询行情数据</strong></p>

<p><strong>示例</strong></p>

<ul>
<li>GTE <code>baseUrl/v1/api/pc/ticker/query</code></li>
</ul>

<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>YES</td>
<td>交易对</td>
</tr>
</tbody></table>
<pre class="highlight shell tab-shell"><code><span class="c"># Response</span>
<span class="o">{</span>
  <span class="s2">"code"</span>: 0,
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"time"</span>: <span class="s2">"1568636015342"</span>,
    <span class="s2">"symbol"</span>: <span class="s2">"BTC_USD"</span>,           //交易对
    <span class="s2">"best_ask"</span>: <span class="s2">"10001"</span>,         //卖一价
    <span class="s2">"best_bid"</span>: <span class="s2">"10000"</span>,         //买一价
    <span class="s2">"last_price"</span>: <span class="s2">"10000"</span>,       //最新成交价
    <span class="s2">"low_24h"</span>: <span class="s2">"9999"</span>,           //24小时最低价
    <span class="s2">"high_24h"</span>: <span class="s2">"10400"</span>,         //24小时最高价
    <span class="s2">"volume_24h"</span>: <span class="s2">"0.003997"</span>     //24小时成交量
  <span class="o">}</span>,
  <span class="s2">"input"</span>: null,
  <span class="s2">"traceId"</span>: <span class="s2">""</span>,
  <span class="s2">"cost"</span>: 0,
  <span class="s2">"error"</span>: null,
  <span class="s2">"msg"</span>: null,
  <span class="s2">"time"</span>: 1568636015343
<span class="o">}</span>
</code></pre><h2 id='2bf0a92d60'>深度接口</h2>
<p><strong>查询永续合约信息</strong></p>

<p><strong>示例</strong></p>

<ul>
<li>GTE <code>baseUrl/v1/api/pc/depth/query</code></li>
</ul>

<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>YES</td>
<td>交易对</td>
</tr>
</tbody></table>
<pre class="highlight shell tab-shell"><code><span class="c"># Response</span>
<span class="o">{</span>
  <span class="s2">"code"</span>: 0,
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"time"</span>: <span class="s2">"1568635734093"</span>,
    <span class="s2">"ssymbol"</span>: <span class="s2">"BTC_USD"</span>,      //交易对
    <span class="s2">"bids"</span>: <span class="o">[</span>
      <span class="o">[</span>
        <span class="s2">"10000"</span>,   //价格
        <span class="s2">"2848"</span>     //数量
      <span class="o">]</span>,
      <span class="o">[</span>
        <span class="s2">"9999"</span>,
        <span class="s2">"1"</span>
      <span class="o">]</span>,
      <span class="o">[</span>
        <span class="s2">"9998"</span>,
        <span class="s2">"30"</span>
      <span class="o">]</span>
    <span class="o">]</span>,
    <span class="s2">"asks"</span>: <span class="o">[</span>
      <span class="o">[</span>
        <span class="s2">"10001"</span>,
        <span class="s2">"59"</span>
      <span class="o">]</span>,
      <span class="o">[</span>
        <span class="s2">"10002"</span>,
        <span class="s2">"1"</span>
      <span class="o">]</span>,
      <span class="o">[</span>
        <span class="s2">"10003"</span>,
        <span class="s2">"3"</span>
      <span class="o">]</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  <span class="s2">"input"</span>: null,
  <span class="s2">"traceId"</span>: <span class="s2">""</span>,
  <span class="s2">"cost"</span>: 0,
  <span class="s2">"error"</span>: null,
  <span class="s2">"msg"</span>: null,
  <span class="s2">"time"</span>: 1568635734093
<span class="o">}</span>
</code></pre><h2 id='5601b3d8e3'>创建委托</h2>
<p><strong>创建活动委托</strong></p>

<p><strong>示例</strong></p>

<ul>
<li>POST <code>baseUrl/v1/api/pc/order/create</code></li>
</ul>

<p><strong>请求头</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td>string</td>
<td>YES</td>
<td>apiKey</td>
</tr>
<tr>
<td>api-expires</td>
<td>string</td>
<td>YES</td>
<td>当前时间戳毫秒</td>
</tr>
<tr>
<td>api-signature</td>
<td>string</td>
<td>YES</td>
<td>api签名</td>
</tr>
</tbody></table>

<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>client_oid</td>
<td>string</td>
<td>NO</td>
<td>客户端订单Id,由您设置的订单id来唯一标识您的订单,字符串,长度40</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>YES</td>
<td>交易对</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>YES</td>
<td>买入1,卖出0</td>
</tr>
<tr>
<td>close_flag</td>
<td>string</td>
<td>YES</td>
<td>0开仓,1平仓</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>NO</td>
<td>价格</td>
</tr>
<tr>
<td>qty</td>
<td>string</td>
<td>YES</td>
<td>张数</td>
</tr>
<tr>
<td>order_type</td>
<td>string</td>
<td>YES</td>
<td>委托类型,1:限价</td>
</tr>
</tbody></table>
<pre class="highlight shell tab-shell"><code><span class="c"># Response</span>
<span class="o">{</span>
  <span class="s2">"code"</span>: 0,
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"time"</span>: <span class="s2">"1568639111357"</span>,
    <span class="s2">"order_id"</span>: <span class="s2">"93814490360972800"</span>   //委托id
  <span class="o">}</span>,
  <span class="s2">"input"</span>: null,
  <span class="s2">"traceId"</span>: <span class="s2">""</span>,
  <span class="s2">"cost"</span>: 0,
  <span class="s2">"error"</span>: null,
  <span class="s2">"msg"</span>: null,
  <span class="s2">"time"</span>: 1568639111359
<span class="o">}</span>
</code></pre><h2 id='3a8264c8e2'>撤销委托</h2>
<p><strong>撤销活动委托</strong></p>

<p><strong>示例</strong></p>

<ul>
<li>POST <code>baseUrl/v1/api/pc/order/cancel</code></li>
</ul>

<p><strong>请求头</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td>string</td>
<td>YES</td>
<td>apiKey</td>
</tr>
<tr>
<td>api-expires</td>
<td>string</td>
<td>YES</td>
<td>当前时间戳毫秒</td>
</tr>
<tr>
<td>api-signature</td>
<td>string</td>
<td>YES</td>
<td>api签名</td>
</tr>
</tbody></table>

<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>YES</td>
<td>委托id</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>YES</td>
<td>交易对</td>
</tr>
</tbody></table>
<pre class="highlight shell tab-shell"><code><span class="c"># Response</span>
<span class="o">{</span>
  <span class="s2">"code"</span>: 0,
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"time"</span>: <span class="s2">"1568639111357"</span>,
    <span class="s2">"order_id"</span>: <span class="s2">"93814490360972800"</span>   //委托id
  <span class="o">}</span>,
  <span class="s2">"input"</span>: null,
  <span class="s2">"traceId"</span>: <span class="s2">""</span>,
  <span class="s2">"cost"</span>: 0,
  <span class="s2">"error"</span>: null,
  <span class="s2">"msg"</span>: null,
  <span class="s2">"time"</span>: 1568639111359
<span class="o">}</span>
</code></pre><h2 id='6f17b241c4'>查询委托</h2>
<p><strong>查询活动委托</strong></p>

<p><strong>示例</strong></p>

<ul>
<li>GTE <code>baseUrl/v1/api/pc/order/query</code></li>
</ul>

<p><strong>请求头</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td>string</td>
<td>YES</td>
<td>apiKey</td>
</tr>
<tr>
<td>api-expires</td>
<td>string</td>
<td>YES</td>
<td>当前时间戳毫秒</td>
</tr>
<tr>
<td>api-signature</td>
<td>string</td>
<td>YES</td>
<td>api签名</td>
</tr>
</tbody></table>

<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>NO</td>
<td>交易对</td>
</tr>
<tr>
<td>filter</td>
<td>string</td>
<td>NO</td>
<td>过滤器, json格式的字符串</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>NO</td>
<td>时间戳毫秒,不填为当前时间</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>NO</td>
<td>时间戳毫秒</td>
</tr>
<tr>
<td>reverse</td>
<td>string</td>
<td>NO</td>
<td>1.时间倒序,0.时间顺序,不填为倒序</td>
</tr>
<tr>
<td>count</td>
<td>string</td>
<td>NO</td>
<td>返回条数最大100条</td>
</tr>
</tbody></table>

<p><strong>查询逻辑</strong></p>

<ul>
<li><p>reverse 等于1时,按照时间倒序排列, 返回小于等于start_time和大于等于end_time的活动委托</p></li>
<li><p>reverse 等于0时,按照时间程序排列, 返回大于等于start_time和小于等于end_time的活动委托</p></li>
</ul>

<p><strong>filter</strong></p>

<ul>
<li><p>json格式的字符串</p></li>
<li><p>支持 key status(委托状态) , 类型 字符串数组</p></li>
<li><p>例如{&quot;status&quot;:[&quot;1&quot;,&quot;8&quot;]}</p></li>
</ul>
<pre class="highlight shell tab-shell"><code><span class="c"># Response</span>
<span class="o">{</span>
    <span class="s2">"code"</span>:0,
    <span class="s2">"data"</span>:<span class="o">{</span>
        <span class="s2">"time"</span>:<span class="s2">"1568639823340"</span>,
        <span class="s2">"orders"</span>:[
            <span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"93800123938637312"</span>,   //委托id
                <span class="s2">"fee"</span>:<span class="s2">"0"</span>,                  //手续费
                <span class="s2">"price"</span>:<span class="s2">"10000"</span>,            //价格
                <span class="s2">"qty"</span>:<span class="s2">"2"</span>,                  //张数
                <span class="s2">"leverage"</span>:<span class="s2">"10"</span>,            //杠杆
                <span class="s2">"symbol"</span>:<span class="s2">"BTC_USD"</span>,           //交易对
                <span class="s2">"ctime"</span>:<span class="s2">"1568635692270"</span>,    //创建时间
                <span class="s2">"client_oid"</span>:null,          //客户端id
                <span class="s2">"avg_price"</span>:<span class="s2">"0"</span>,            //成交均价
                <span class="s2">"filled_qty"</span>:<span class="s2">"1"</span>,           //已经成交张数
                <span class="s2">"close_flag"</span>:<span class="s2">"0"</span>,           //0开仓,1平仓        
                <span class="s2">"side"</span>:<span class="s2">"1"</span>,                  //买入1,卖出0
                <span class="s2">"order_margin"</span>:<span class="s2">"0.00001"</span>,   //委托保证金
                <span class="s2">"order_type"</span>:<span class="s2">"1"</span>,            //委托类型
                <span class="s2">"status"</span>:<span class="s2">"2"</span>                //委托状态  1:已创建未匹配 2:新建未成交 4:待取消 8:已取消 16:部分成交 32:全部成交     
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>,
    <span class="s2">"input"</span>:null,
    <span class="s2">"traceId"</span>:<span class="s2">""</span>,
    <span class="s2">"cost"</span>:0,
    <span class="s2">"error"</span>:null,
    <span class="s2">"msg"</span>:null,
    <span class="s2">"time"</span>:1568639823342
<span class="o">}</span>
</code></pre><h1 id='cf68bca02a'>错误代码</h1><h1 id='cf68bca02a'>错误代码</h1>
<aside class="notice">
Errors consist of two parts: an error code and a message.
Codes are universal,but messages can vary.
</aside>

<p>The GTE API uses the following error codes:</p>
<pre class="highlight plaintext"><code>{
  "code": -10012,
  "error": {
    "patternName": "VALIDATE_PARAM_TYPE_ERROR",
    "data": {
      "paramName": "size"
    }
  }
}
</code></pre>
<table><thead>
<tr>
<th>错误码</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>-10011</td>
<td>参数不能为空异常</td>
</tr>
<tr>
<td>-10012</td>
<td>参数类型异常</td>
</tr>
<tr>
<td>-10013</td>
<td>参数值异常</td>
</tr>
<tr>
<td>-10051</td>
<td>api请求签名错误</td>
</tr>
<tr>
<td>-10052</td>
<td>api请求过期</td>
</tr>
<tr>
<td>-10053</td>
<td>api请求太频繁</td>
</tr>
<tr>
<td>-10054</td>
<td>apiKey不存在</td>
</tr>
<tr>
<td>-10055</td>
<td>api请求权限错误</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
